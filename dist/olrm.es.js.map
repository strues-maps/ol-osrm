{"version":3,"file":"olrm.es.js","sources":["../node_modules/preact/dist/preact.module.js","../node_modules/@mapbox/polyline/src/polyline.js","../node_modules/osrm-text-instructions/languages.js","../node_modules/osrm-text-instructions/index.js","../src/waypoint.js","../src/osrm-v1.js","../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../src/assets/glyph-marker-icon.png","../src/components/Marker.jsx","../node_modules/string-template/index.js","../src/utils.js","../src/components/RouteLine.jsx","../src/components/Geocoder.jsx","../src/assets/glyph-circle-icon.png","../src/components/Itinerary.jsx","../src/components/Control.jsx","../src/components/ControlWrapper.jsx","../node_modules/ol/MapEventType.js","../node_modules/ol/ObjectEventType.js","../node_modules/ol/events/EventType.js","../node_modules/ol/Disposable.js","../node_modules/ol/functions.js","../node_modules/ol/obj.js","../node_modules/ol/events/Event.js","../node_modules/ol/events/Target.js","../node_modules/ol/events.js","../node_modules/ol/Observable.js","../node_modules/ol/util.js","../node_modules/ol/Object.js","../node_modules/ol/control/Control.js","../src/main.js"],"sourcesContent":["var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,r=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,N(f,t,c),r.__e=r.__=null,t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,y,w,d,g,_,m=t&&t.__k||v,b=l.length;for(f=P(u,l,m,f,b),a=0;a<b;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:m[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),w=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&B(h.ref,null,y),s.push(y.ref,y.__c||w,y)),null==d&&null!=w&&(d=w),(_=!!(4&y.__u))||h.__k===y.__k?f=A(y,f,n,_):\"function\"==typeof y.type&&void 0!==g?f=g:w&&(f=w.nextSibling),y.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),D(e,e));return t}function A(n,l,u,t){var i,r;if(\"function\"==typeof n.type){for(i=n.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=n,l=A(i[r],l,u,t));return l}n.__e!=l&&(t&&(l&&n.type&&!l.parentNode&&(l=S(n)),u.insertBefore(n.__e,l||null)),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o,e=n.key,f=n.type,c=l[u],s=null!=c&&0==(2&c.__u);if(null===c&&null==n.key||s&&e==c.key&&f==c.type)return u;if(t>(s?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;)if(null!=(c=l[o=i>=0?i--:r++])&&0==(2&c.__u)&&e==c.key&&f==c.type)return o;return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||y.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r,o;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),o=l.toLowerCase(),l=o in n||\"onFocusOut\"==l||\"onFocusIn\"==l?o.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=E),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=V(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else{for(T=o.length;T--;)g(o[T]);z(u)}else u.__e=t.__e,u.__k=t.__k,n.then||z(u);l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=q(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(z)}function N(n,u,t){for(var i=0;i<t.length;i++)B(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function V(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(V):d({},n)}function q(u,t,i,r,o,e,f,c,s){var a,h,v,y,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?y=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(y)?y:[y],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function B(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function D(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||B(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&D(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function E(n,l,u){return this.constructor(n,u)}function G(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),N(e,u,f)}function J(n,l){G(n,l,J)}function K(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=void 0===u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function Q(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,K as cloneElement,Q as createContext,_ as createElement,b as createRef,_ as h,J as hydrate,t as isValidElement,l as options,G as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","'use strict';\n\n/**\n * Based off of [the offical Google document](https://developers.google.com/maps/documentation/utilities/polylinealgorithm)\n *\n * Some parts from [this implementation](http://facstaff.unca.edu/mcmcclur/GoogleMaps/EncodePolyline/PolylineEncoder.js)\n * by [Mark McClure](http://facstaff.unca.edu/mcmcclur/)\n *\n * @module polyline\n */\n\nvar polyline = {};\n\nfunction py2_round(value) {\n    // Google's polyline algorithm uses the same rounding strategy as Python 2, which is different from JS for negative values\n    return Math.floor(Math.abs(value) + 0.5) * (value >= 0 ? 1 : -1);\n}\n\nfunction encode(current, previous, factor) {\n    current = py2_round(current * factor);\n    previous = py2_round(previous * factor);\n    var coordinate = (current - previous) * 2;\n    if (coordinate < 0) {\n        coordinate = -coordinate - 1\n    }\n    var output = '';\n    while (coordinate >= 0x20) {\n        output += String.fromCharCode((0x20 | (coordinate & 0x1f)) + 63);\n        coordinate /= 32;\n    }\n    output += String.fromCharCode((coordinate | 0) + 63);\n    return output;\n}\n\n/**\n * Decodes to a [latitude, longitude] coordinates array.\n *\n * This is adapted from the implementation in Project-OSRM.\n *\n * @param {String} str\n * @param {Number} precision\n * @returns {Array}\n *\n * @see https://github.com/Project-OSRM/osrm-frontend/blob/master/WebContent/routing/OSRM.RoutingGeometry.js\n */\npolyline.decode = function(str, precision) {\n    var index = 0,\n        lat = 0,\n        lng = 0,\n        coordinates = [],\n        shift = 0,\n        result = 0,\n        byte = null,\n        latitude_change,\n        longitude_change,\n        factor = Math.pow(10, Number.isInteger(precision) ? precision : 5);\n\n    // Coordinates have variable length when encoded, so just keep\n    // track of whether we've hit the end of the string. In each\n    // loop iteration, a single coordinate is decoded.\n    while (index < str.length) {\n\n        // Reset shift, result, and byte\n        byte = null;\n        shift = 1;\n        result = 0;\n\n        do {\n            byte = str.charCodeAt(index++) - 63;\n            result += (byte & 0x1f) * shift;\n            shift *= 32;\n        } while (byte >= 0x20);\n\n        latitude_change = (result & 1) ? ((-result - 1) / 2) : (result / 2);\n\n        shift = 1;\n        result = 0;\n\n        do {\n            byte = str.charCodeAt(index++) - 63;\n            result += (byte & 0x1f) * shift;\n            shift *= 32;\n        } while (byte >= 0x20);\n\n        longitude_change = (result & 1) ? ((-result - 1) / 2) : (result / 2);\n\n        lat += latitude_change;\n        lng += longitude_change;\n\n        coordinates.push([lat / factor, lng / factor]);\n    }\n\n    return coordinates;\n};\n\n/**\n * Encodes the given [latitude, longitude] coordinates array.\n *\n * @param {Array.<Array.<Number>>} coordinates\n * @param {Number} precision\n * @returns {String}\n */\npolyline.encode = function(coordinates, precision) {\n    if (!coordinates.length) { return ''; }\n\n    var factor = Math.pow(10, Number.isInteger(precision) ? precision : 5),\n        output = encode(coordinates[0][0], 0, factor) + encode(coordinates[0][1], 0, factor);\n\n    for (var i = 1; i < coordinates.length; i++) {\n        var a = coordinates[i], b = coordinates[i - 1];\n        output += encode(a[0], b[0], factor);\n        output += encode(a[1], b[1], factor);\n    }\n\n    return output;\n};\n\nfunction flipped(coords) {\n    var flipped = [];\n    for (var i = 0; i < coords.length; i++) {\n        var coord = coords[i].slice();\n        flipped.push([coord[1], coord[0]]);\n    }\n    return flipped;\n}\n\n/**\n * Encodes a GeoJSON LineString feature/geometry.\n *\n * @param {Object} geojson\n * @param {Number} precision\n * @returns {String}\n */\npolyline.fromGeoJSON = function(geojson, precision) {\n    if (geojson && geojson.type === 'Feature') {\n        geojson = geojson.geometry;\n    }\n    if (!geojson || geojson.type !== 'LineString') {\n        throw new Error('Input must be a GeoJSON LineString');\n    }\n    return polyline.encode(flipped(geojson.coordinates), precision);\n};\n\n/**\n * Decodes to a GeoJSON LineString geometry.\n *\n * @param {String} str\n * @param {Number} precision\n * @returns {Object}\n */\npolyline.toGeoJSON = function(str, precision) {\n    var coords = polyline.decode(str, precision);\n    return {\n        type: 'LineString',\n        coordinates: flipped(coords)\n    };\n};\n\nif (typeof module === 'object' && module.exports) {\n    module.exports = polyline;\n}\n","// Load all language files explicitly to allow integration\n// with bundling tools like webpack and browserify\nvar instructionsAr = require('./languages/translations/ar.json');\nvar instructionsCa = require('./languages/translations/ca.json');\nvar instructionsDa = require('./languages/translations/da.json');\nvar instructionsDe = require('./languages/translations/de.json');\nvar instructionsEn = require('./languages/translations/en.json');\nvar instructionsEo = require('./languages/translations/eo.json');\nvar instructionsEs = require('./languages/translations/es.json');\nvar instructionsEsEs = require('./languages/translations/es-ES.json');\nvar instructionsFi = require('./languages/translations/fi.json');\nvar instructionsFr = require('./languages/translations/fr.json');\nvar instructionsHe = require('./languages/translations/he.json');\nvar instructionsHu = require('./languages/translations/hu.json');\nvar instructionsId = require('./languages/translations/id.json');\nvar instructionsIt = require('./languages/translations/it.json');\nvar instructionsJa = require('./languages/translations/ja.json');\nvar instructionsKo = require('./languages/translations/ko.json');\nvar instructionsMy = require('./languages/translations/my.json');\nvar instructionsNl = require('./languages/translations/nl.json');\nvar instructionsNo = require('./languages/translations/no.json');\nvar instructionsPl = require('./languages/translations/pl.json');\nvar instructionsPtBr = require('./languages/translations/pt-BR.json');\nvar instructionsPtPt = require('./languages/translations/pt-PT.json');\nvar instructionsRo = require('./languages/translations/ro.json');\nvar instructionsRu = require('./languages/translations/ru.json');\nvar instructionsSl = require('./languages/translations/sl.json');\nvar instructionsSv = require('./languages/translations/sv.json');\nvar instructionsTr = require('./languages/translations/tr.json');\nvar instructionsUk = require('./languages/translations/uk.json');\nvar instructionsVi = require('./languages/translations/vi.json');\nvar instructionsYo = require('./languages/translations/yo.json');\nvar instructionsZhHans = require('./languages/translations/zh-Hans.json');\n\n// Load all grammar files\nvar grammarDa = require('./languages/grammar/da.json');\nvar grammarFr = require('./languages/grammar/fr.json');\nvar grammarHu = require('./languages/grammar/hu.json');\nvar grammarRu = require('./languages/grammar/ru.json');\n\n// Load all abbreviations files\nvar abbreviationsBg = require('./languages/abbreviations/bg.json');\nvar abbreviationsCa = require('./languages/abbreviations/ca.json');\nvar abbreviationsDa = require('./languages/abbreviations/da.json');\nvar abbreviationsDe = require('./languages/abbreviations/de.json');\nvar abbreviationsEn = require('./languages/abbreviations/en.json');\nvar abbreviationsEs = require('./languages/abbreviations/es.json');\nvar abbreviationsFr = require('./languages/abbreviations/fr.json');\nvar abbreviationsHe = require('./languages/abbreviations/he.json');\nvar abbreviationsHu = require('./languages/abbreviations/hu.json');\nvar abbreviationsLt = require('./languages/abbreviations/lt.json');\nvar abbreviationsNl = require('./languages/abbreviations/nl.json');\nvar abbreviationsRu = require('./languages/abbreviations/ru.json');\nvar abbreviationsSl = require('./languages/abbreviations/sl.json');\nvar abbreviationsSv = require('./languages/abbreviations/sv.json');\nvar abbreviationsUk = require('./languages/abbreviations/uk.json');\nvar abbreviationsVi = require('./languages/abbreviations/vi.json');\n\n// Create a list of supported codes\nvar instructions = {\n    'ar': instructionsAr,\n    'ca': instructionsCa,\n    'da': instructionsDa,\n    'de': instructionsDe,\n    'en': instructionsEn,\n    'eo': instructionsEo,\n    'es': instructionsEs,\n    'es-ES': instructionsEsEs,\n    'fi': instructionsFi,\n    'fr': instructionsFr,\n    'he': instructionsHe,\n    'hu': instructionsHu,\n    'id': instructionsId,\n    'it': instructionsIt,\n    'ja': instructionsJa,\n    'ko': instructionsKo,\n    'my': instructionsMy,\n    'nl': instructionsNl,\n    'no': instructionsNo,\n    'pl': instructionsPl,\n    'pt-BR': instructionsPtBr,\n    'pt-PT': instructionsPtPt,\n    'ro': instructionsRo,\n    'ru': instructionsRu,\n    'sl': instructionsSl,\n    'sv': instructionsSv,\n    'tr': instructionsTr,\n    'uk': instructionsUk,\n    'vi': instructionsVi,\n    'yo': instructionsYo,\n    'zh-Hans': instructionsZhHans\n};\n\n// Create list of supported grammar\nvar grammars = {\n    'da': grammarDa,\n    'fr': grammarFr,\n    'hu': grammarHu,\n    'ru': grammarRu\n};\n\n// Create list of supported abbrevations\nvar abbreviations = {\n    'bg': abbreviationsBg,\n    'ca': abbreviationsCa,\n    'da': abbreviationsDa,\n    'de': abbreviationsDe,\n    'en': abbreviationsEn,\n    'es': abbreviationsEs,\n    'fr': abbreviationsFr,\n    'he': abbreviationsHe,\n    'hu': abbreviationsHu,\n    'lt': abbreviationsLt,\n    'nl': abbreviationsNl,\n    'ru': abbreviationsRu,\n    'sl': abbreviationsSl,\n    'sv': abbreviationsSv,\n    'uk': abbreviationsUk,\n    'vi': abbreviationsVi\n};\nmodule.exports = {\n    supportedCodes: Object.keys(instructions),\n    instructions: instructions,\n    grammars: grammars,\n    abbreviations: abbreviations\n};\n","var languages = require('./languages');\nvar instructions = languages.instructions;\nvar grammars = languages.grammars;\nvar abbreviations = languages.abbreviations;\n\nmodule.exports = function(version) {\n    Object.keys(instructions).forEach(function(code) {\n        if (!instructions[code][version]) { throw 'invalid version ' + version + ': ' + code + ' not supported'; }\n    });\n\n    return {\n        capitalizeFirstLetter: function(language, string) {\n            return string.charAt(0).toLocaleUpperCase(language) + string.slice(1);\n        },\n        ordinalize: function(language, number) {\n            // Transform numbers to their translated ordinalized value\n            if (!language) throw new Error('No language code provided');\n\n            return instructions[language][version].constants.ordinalize[number.toString()] || '';\n        },\n        directionFromDegree: function(language, degree) {\n            // Transform degrees to their translated compass direction\n            if (!language) throw new Error('No language code provided');\n            if (!degree && degree !== 0) {\n                // step had no bearing_after degree, ignoring\n                return '';\n            } else if (degree >= 0 && degree <= 20) {\n                return instructions[language][version].constants.direction.north;\n            } else if (degree > 20 && degree < 70) {\n                return instructions[language][version].constants.direction.northeast;\n            } else if (degree >= 70 && degree <= 110) {\n                return instructions[language][version].constants.direction.east;\n            } else if (degree > 110 && degree < 160) {\n                return instructions[language][version].constants.direction.southeast;\n            } else if (degree >= 160 && degree <= 200) {\n                return instructions[language][version].constants.direction.south;\n            } else if (degree > 200 && degree < 250) {\n                return instructions[language][version].constants.direction.southwest;\n            } else if (degree >= 250 && degree <= 290) {\n                return instructions[language][version].constants.direction.west;\n            } else if (degree > 290 && degree < 340) {\n                return instructions[language][version].constants.direction.northwest;\n            } else if (degree >= 340 && degree <= 360) {\n                return instructions[language][version].constants.direction.north;\n            } else {\n                throw new Error('Degree ' + degree + ' invalid');\n            }\n        },\n        laneConfig: function(step) {\n            // Reduce any lane combination down to a contracted lane diagram\n            if (!step.intersections || !step.intersections[0].lanes) throw new Error('No lanes object');\n\n            var config = [];\n            var currentLaneValidity = null;\n\n            step.intersections[0].lanes.forEach(function (lane) {\n                if (currentLaneValidity === null || currentLaneValidity !== lane.valid) {\n                    if (lane.valid) {\n                        config.push('o');\n                    } else {\n                        config.push('x');\n                    }\n                    currentLaneValidity = lane.valid;\n                }\n            });\n\n            return config.join('');\n        },\n        getWayName: function(language, step, options) {\n            var classes = options ? options.classes || [] : [];\n            if (typeof step !== 'object') throw new Error('step must be an Object');\n            if (!language) throw new Error('No language code provided');\n            if (!Array.isArray(classes)) throw new Error('classes must be an Array or undefined');\n\n            var wayName;\n            var name = step.name || '';\n            var ref = (step.ref || '').split(';')[0];\n\n            // Remove hacks from Mapbox Directions mixing ref into name\n            if (name === step.ref) {\n                // if both are the same we assume that there used to be an empty name, with the ref being filled in for it\n                // we only need to retain the ref then\n                name = '';\n            }\n            name = name.replace(' (' + step.ref + ')', '');\n\n            // In attempt to avoid using the highway name of a way,\n            // check and see if the step has a class which should signal\n            // the ref should be used instead of the name.\n            var wayMotorway = classes.indexOf('motorway') !== -1;\n\n            if (name && ref && name !== ref && !wayMotorway) {\n                var phrase = instructions[language][version].phrase['name and ref'] ||\n                    instructions.en[version].phrase['name and ref'];\n                wayName = this.tokenize(language, phrase, {\n                    name: name,\n                    ref: ref\n                }, options);\n            } else if (name && ref && wayMotorway && (/\\d/).test(ref)) {\n                wayName = options && options.formatToken ? options.formatToken('ref', ref) : ref;\n            } else if (!name && ref) {\n                wayName = options && options.formatToken ? options.formatToken('ref', ref) : ref;\n            } else {\n                wayName = options && options.formatToken ? options.formatToken('name', name) : name;\n            }\n\n            return wayName;\n        },\n\n        /**\n         * Formulate a localized text instruction from a step.\n         *\n         * @param  {string} language           Language code.\n         * @param  {object} step               Step including maneuver property.\n         * @param  {object} opts               Additional options.\n         * @param  {string} opts.legIndex      Index of leg in the route.\n         * @param  {string} opts.legCount      Total number of legs in the route.\n         * @param  {array}  opts.classes       List of road classes.\n         * @param  {string} opts.waypointName  Name of waypoint for arrival instruction.\n         *\n         * @return {string} Localized text instruction.\n         */\n        compile: function(language, step, opts) {\n            if (!language) throw new Error('No language code provided');\n            if (languages.supportedCodes.indexOf(language) === -1) throw new Error('language code ' + language + ' not loaded');\n            if (!step.maneuver) throw new Error('No step maneuver provided');\n            var options = opts || {};\n\n            var type = step.maneuver.type;\n            var modifier = step.maneuver.modifier;\n            var mode = step.mode;\n            // driving_side will only be defined in OSRM 5.14+\n            var side = step.driving_side;\n\n            if (!type) { throw new Error('Missing step maneuver type'); }\n            if (type !== 'depart' && type !== 'arrive' && !modifier) { throw new Error('Missing step maneuver modifier'); }\n\n            if (!instructions[language][version][type]) {\n                // Log for debugging\n                console.log('Encountered unknown instruction type: ' + type); // eslint-disable-line no-console\n                // OSRM specification assumes turn types can be added without\n                // major version changes. Unknown types are to be treated as\n                // type `turn` by clients\n                type = 'turn';\n            }\n\n            // Use special instructions if available, otherwise `defaultinstruction`\n            var instructionObject;\n            if (instructions[language][version].modes[mode]) {\n                instructionObject = instructions[language][version].modes[mode];\n            } else {\n                // omit side from off ramp if same as driving_side\n                // note: side will be undefined if the input is from OSRM <5.14\n                // but the condition should still evaluate properly regardless\n                var omitSide = type === 'off ramp' && modifier.indexOf(side) >= 0;\n                if (instructions[language][version][type][modifier] && !omitSide) {\n                    instructionObject = instructions[language][version][type][modifier];\n                } else {\n                    instructionObject = instructions[language][version][type].default;\n                }\n            }\n\n            // Special case handling\n            var laneInstruction;\n            switch (type) {\n            case 'use lane':\n                laneInstruction = instructions[language][version].constants.lanes[this.laneConfig(step)];\n                if (!laneInstruction) {\n                    // If the lane combination is not found, default to continue straight\n                    instructionObject = instructions[language][version]['use lane'].no_lanes;\n                }\n                break;\n            case 'rotary':\n            case 'roundabout':\n                if (step.rotary_name && step.maneuver.exit && instructionObject.name_exit) {\n                    instructionObject = instructionObject.name_exit;\n                } else if (step.rotary_name && instructionObject.name) {\n                    instructionObject = instructionObject.name;\n                } else if (step.maneuver.exit && instructionObject.exit) {\n                    instructionObject = instructionObject.exit;\n                } else {\n                    instructionObject = instructionObject.default;\n                }\n                break;\n            default:\n                // NOOP, since no special logic for that type\n            }\n\n            // Decide way_name with special handling for name and ref\n            var wayName = this.getWayName(language, step, options);\n\n            // Decide which instruction string to use\n            // In order of precedence:\n            //   - exit + destination signage\n            //   - destination signage\n            //   - exit signage\n            //   - junction name\n            //   - road name\n            //   - waypoint name (for arrive maneuver)\n            //   - default\n            var instruction;\n            if (step.destinations && step.exits && instructionObject.exit_destination) {\n                instruction = instructionObject.exit_destination;\n            } else if (step.destinations && instructionObject.destination) {\n                instruction = instructionObject.destination;\n            } else if (step.exits && instructionObject.exit) {\n                instruction = instructionObject.exit;\n            } else if (step.junction_name && instructionObject.junction_name) {\n                instruction = instructionObject.junction_name;\n            } else if (wayName && instructionObject.name) {\n                instruction = instructionObject.name;\n            } else if (options.waypointName && instructionObject.named) {\n                instruction = instructionObject.named;\n            } else {\n                instruction = instructionObject.default;\n            }\n\n            var destinations = step.destinations && step.destinations.split(': ');\n            var destinationRef = destinations && destinations[0].split(',')[0];\n            var destination = destinations && destinations[1] && destinations[1].split(',')[0];\n            var firstDestination;\n            if (destination && destinationRef) {\n                firstDestination = destinationRef + ': ' + destination;\n            } else {\n                firstDestination = destinationRef || destination || '';\n            }\n\n            var nthWaypoint = options.legIndex >= 0 && options.legIndex !== options.legCount - 1 ? this.ordinalize(language, options.legIndex + 1) : '';\n\n            // Replace tokens\n            // NOOP if they don't exist\n            var replaceTokens = {\n                'way_name': wayName,\n                'destination': firstDestination,\n                'exit': (step.exits || '').split(';')[0],\n                'exit_number': this.ordinalize(language, step.maneuver.exit || 1),\n                'rotary_name': step.rotary_name,\n                'lane_instruction': laneInstruction,\n                'modifier': instructions[language][version].constants.modifier[modifier],\n                'direction': this.directionFromDegree(language, step.maneuver.bearing_after),\n                'nth': nthWaypoint,\n                'waypoint_name': options.waypointName,\n                'junction_name': (step.junction_name || '').split(';')[0]\n            };\n\n            return this.tokenize(language, instruction, replaceTokens, options);\n        },\n        grammarize: function(language, name, grammar) {\n            if (!language) throw new Error('No language code provided');\n            // Process way/rotary/any name with applying grammar rules if any\n            if (grammar && grammars && grammars[language] && grammars[language][version]) {\n                var rules = grammars[language][version][grammar];\n                if (rules) {\n                    // Pass original name to rules' regular expressions enclosed with spaces for simplier parsing\n                    var n = ' ' + name + ' ';\n                    var flags = grammars[language].meta.regExpFlags || '';\n                    rules.forEach(function(rule) {\n                        var re = new RegExp(rule[0], flags);\n                        n = n.replace(re, rule[1]);\n                    });\n\n                    return n.trim();\n                }\n            }\n\n            return name;\n        },\n        abbreviations: abbreviations,\n        tokenize: function(language, instruction, tokens, options) {\n            if (!language) throw new Error('No language code provided');\n            // Keep this function context to use in inline function below (no arrow functions in ES4)\n            var that = this;\n            var startedWithToken = false;\n            var output = instruction\n                .replace(/\\{(\\w+)(?::(\\w+))?\\}/g, function(token, tag, grammar, offset) {\n                    var value = tokens[tag];\n\n                    // Return unknown token unchanged\n                    if (typeof value === 'undefined') {\n                        return token;\n                    }\n\n                    value = that.grammarize(language, value, grammar);\n\n                    // If this token appears at the beginning of the instruction, capitalize it.\n                    if (offset === 0 && instructions[language].meta.capitalizeFirstLetter) {\n                        startedWithToken = true;\n                        value = that.capitalizeFirstLetter(language, value);\n                    }\n\n                    if (options && options.formatToken) {\n                        value = options.formatToken(tag, value);\n                    }\n\n                    return value;\n                })\n                .replace(/ {2}/g, ' '); // remove excess spaces\n\n            if (!startedWithToken && instructions[language].meta.capitalizeFirstLetter) {\n                return this.capitalizeFirstLetter(language, output);\n            }\n\n            return output;\n        }\n    };\n};\n","export default class Waypoint {\n    constructor (lngLat, name, options) {\n        this.lngLat = lngLat\n        this.name = name\n        this.options = options\n    }\n}\n","/* eslint-disable prefer-template */\n\nimport polyline from '@mapbox/polyline'\nimport osrmTextInstructions from 'osrm-text-instructions'\nimport Waypoint from './waypoint'\n\nconst defaults = {\n    serviceUrl: 'https://router.project-osrm.org/route/v1',\n    profile: 'driving',\n    timeout: 30 * 1000,\n    routingOptions: {\n        alternatives: true,\n        steps: true\n    },\n    polylinePrecision: 5,\n    useHints: true,\n    suppressDemoServerWarning: false,\n    language: 'en'\n};\n\n/**\n * Works against OSRM's new API in version 5.0; this has\n * the API version v1.\n */\nexport default class OSRMv1 {\n    constructor(options) {\n        this.options = Object.assign({}, defaults, options)\n        this._hints = {locations: []};\n\n        if (!this.options.suppressDemoServerWarning && this.options.serviceUrl.indexOf('//router.project-osrm.org') >= 0) {\n            console.warn('You are using OSRM\\'s demo server. ' +\n                    'Please note that it is **NOT SUITABLE FOR PRODUCTION USE**.\\n' +\n                    'Refer to the demo server\\'s usage policy: ' +\n                    'https://github.com/Project-OSRM/osrm-backend/wiki/Api-usage-policy\\n\\n' +\n                    'To change, set the serviceUrl option.\\n\\n' +\n                    'Please do not report issues with this server to neither ' +\n                    'Leaflet Routing Machine or OSRM - it\\'s for\\n' +\n                    'demo only, and will sometimes not be available, or work in ' +\n                    'unexpected ways.\\n\\n' +\n                    'Please set up your own OSRM server, or use a paid service ' +\n                    'provider for production.');\n        }\n    }\n\n    route(waypoints, callback, context, options) {\n        let url;\n        let timedOut;\n        let waypointsCopy;\n\n        options = Object.assign({}, this.options.routingOptions, options);\n\n        url = this.buildRouteUrl(waypoints, options);\n        if (this.options.requestParameters) {\n            url += Object.keys(this.options.requestParameters).reduce(\n                function (carry, param, idx) {\n                    return carry +\n                        (idx > 0 ? '&' : '') +\n                        param + '=' + window.encodeURIComponent(this.options.requestParameters[param]);\n                },\n                url.indexOf('?') >= 0 ? '&' : '?'\n            )\n        }\n\n        timedOut = false;\n        const timer = setTimeout(() => {\n            timedOut = true;\n            callback.call(context || callback, {\n                status: -1,\n                message: 'OSRM request timed out.'\n            });\n        }, this.options.timeout);\n\n        // Create a copy of the waypoints, since they\n        // might otherwise be asynchronously modified while\n        // the request is being processed.\n        waypointsCopy = [];\n        for (let i = 0; i < waypoints.length; i++) {\n            let wp = waypoints[i];\n            waypointsCopy.push(new Waypoint(wp.lngLat, wp.name, wp.options));\n        }\n\n        return window.fetch(url)\n            .then(resp => {\n                clearTimeout(timer);\n                if (timedOut) {\n                    return;\n                }\n\n                return resp.json();\n            })\n            .then(data => {\n                return this._routeDone(data, waypointsCopy, options, callback, context);\n            })\n            .catch(err => {\n                callback.call(context || callback, err);\n            });\n    }\n\n    _routeDone(response, inputWaypoints, options, callback, context) {\n        let alts = [];\n\n        try {\n            context = context || callback;\n            if (response.code !== 'Ok') {\n                callback.call(context, {\n                    status: response.code\n                });\n                return;\n            }\n\n            let actualWaypoints = this._toWaypoints(inputWaypoints, response.waypoints);\n\n            for (let i = 0; i < response.routes.length; i++) {\n                let route = this._convertRoute(response.routes[i]);\n                route.inputWaypoints = inputWaypoints;\n                route.waypoints = actualWaypoints;\n                route.properties = {isSimplified: !options || !options.geometryOnly || options.simplifyGeometry};\n                alts.push(route);\n            }\n\n            this._saveHintData(response.waypoints, inputWaypoints);\n        } catch (ex) {\n            throw {\n                status: -3,\n                message: ex.toString()\n            }\n        }\n\n        callback.call(context, null, alts);\n    }\n\n    _convertRoute(responseRoute) {\n        let result = {\n            name: '',\n            coordinates: [],\n            instructions: [],\n            summary: {\n                totalDistance: responseRoute.distance,\n                totalTime: responseRoute.duration\n            }\n        };\n        let legNames = [],\n            waypointIndices = [],\n            index = 0,\n            legCount = responseRoute.legs.length,\n            hasSteps = responseRoute.legs[0].steps.length > 0,\n            i,\n            j,\n            leg,\n            step,\n            geometry,\n            coordinate,\n            type,\n            modifier,\n            text,\n            stepToText;\n\n        if (this.options.stepToText) {\n            stepToText = this.options.stepToText;\n        } else {\n            let textInstructions = osrmTextInstructions('v5', this.options.language);\n            stepToText = textInstructions.compile.bind(textInstructions, this.options.language);\n        }\n\n        for (i = 0; i < legCount; i++) {\n            leg = responseRoute.legs[i];\n            legNames.push(leg.summary && leg.summary.charAt(0).toUpperCase() + leg.summary.substring(1));\n            for (j = 0; j < leg.steps.length; j++) {\n                step = leg.steps[j];\n                geometry = this._decodePolyline(step.geometry);\n                coordinate = geometry && geometry.length > 0 ? geometry[0] : null;\n                result.coordinates = [...result.coordinates, ...geometry];\n                type = this._maneuverToInstructionType(step.maneuver, i === legCount - 1);\n                modifier = this._maneuverToModifier(step.maneuver);\n                text = stepToText(step);\n\n                if (type) {\n                    if ((i == 0 && step.maneuver.type == 'depart') || step.maneuver.type == 'arrive') {\n                        waypointIndices.push(index);\n                    }\n\n                    result.instructions.push({\n                        type,\n                        distance: step.distance,\n                        time: step.duration,\n                        road: step.name,\n                        direction: this._bearingToDirection(step.maneuver.bearing_after),\n                        exit: step.maneuver.exit,\n                        index,\n                        mode: step.mode,\n                        modifier,\n                        text,\n                        coordinate\n                    });\n                }\n\n                index += geometry.length;\n            }\n        }\n\n        result.name = legNames.join(', ');\n        if (!hasSteps) {\n            result.coordinates = this._decodePolyline(responseRoute.geometry);\n        } else {\n            result.waypointIndices = waypointIndices;\n        }\n\n        return result;\n    }\n\n    _bearingToDirection(bearing) {\n        let oct = Math.round(bearing / 45) % 8;\n        return ['N', 'NE', 'E', 'SE', 'S', 'SW', 'W', 'NW'][oct];\n    }\n\n    _maneuverToInstructionType(maneuver, lastLeg) {\n        switch (maneuver.type) {\n            case 'new name':\n                return 'Continue';\n            case 'depart':\n                return 'Head';\n            case 'arrive':\n                return lastLeg ? 'DestinationReached' : 'WaypointReached';\n            case 'roundabout':\n            case 'rotary':\n                return 'Roundabout';\n            case 'merge':\n            case 'fork':\n            case 'on ramp':\n            case 'off ramp':\n            case 'end of road':\n                return this._camelCase(maneuver.type);\n                // These are all reduced to the same instruction in the current model\n                //case 'turn':\n                //case 'ramp': // deprecated in v5.1\n            default:\n                return this._camelCase(maneuver.modifier);\n        }\n    }\n\n    _maneuverToModifier(maneuver) {\n        let modifier = maneuver.modifier;\n\n        switch (maneuver.type) {\n            case 'merge':\n            case 'fork':\n            case 'on ramp':\n            case 'off ramp':\n            case 'end of road':\n                modifier = this._leftOrRight(modifier);\n        }\n\n        return modifier && this._camelCase(modifier);\n    }\n\n    _camelCase(s) {\n        let words = s.split(' '),\n                result = '';\n        for (let i = 0, l = words.length; i < l; i++) {\n            result += words[i].charAt(0).toUpperCase() + words[i].substring(1);\n        }\n\n        return result;\n    }\n\n    _leftOrRight(d) {\n        return d.indexOf('left') >= 0 ? 'Left' : 'Right';\n    }\n\n    _decodePolyline(routeGeometry) {\n        let cs = polyline.decode(routeGeometry, this.options.polylinePrecision),\n                result = new Array(cs.length),\n                i;\n        for (i = cs.length - 1; i >= 0; i--) {\n            let c = cs[i]\n            result[i] = [c[1], c[0]];\n        }\n\n        return result;\n    }\n\n    _toWaypoints(inputWaypoints, vias) {\n        let wps = [],\n                i,\n                viaLoc;\n        for (i = 0; i < vias.length; i++) {\n            viaLoc = vias[i].location;\n            wps.push(new Waypoint([viaLoc[1], viaLoc[0]],\n                    inputWaypoints[i].name,\n                    inputWaypoints[i].options));\n        }\n\n        return wps;\n    }\n\n    buildRouteUrl(waypoints, options) {\n        let locations = [];\n        let hints = [];\n        let computeInstructions = true;\n        let computeAlternative = true;\n\n        for (let i = 0; i < waypoints.length; i++) {\n            let wp = waypoints[i];\n            let lngLat = wp.lngLat;\n            locations.push(lngLat[0] + ',' + lngLat[1]);\n            hints.push(this._hints.locations[this._locationKey(lngLat)] || '');\n        }\n\n        return this.options.serviceUrl + '/' + this.options.profile + '/' +\n                locations.join(';') + '?' +\n                (options.geometryOnly ? (options.simplifyGeometry ? '' : 'overview=full') : 'overview=false') +\n                '&alternatives=' + computeAlternative.toString() +\n                '&steps=' + computeInstructions.toString() +\n                (this.options.useHints ? '&hints=' + hints.join(';') : '') +\n                (options.allowUTurns ? '&continue_straight=' + !options.allowUTurns : '');\n    }\n\n    _locationKey(location) {\n        return location[0] + ',' + location[1];\n    }\n\n    _saveHintData(actualWaypoints, waypoints) {\n        let loc;\n        this._hints = {\n            locations: {}\n        };\n        for (let i = actualWaypoints.length - 1; i >= 0; i--) {\n            loc = waypoints[i].lngLat;\n            this._hints.locations[this._locationKey(loc)] = actualWaypoints[i].hint;\n        }\n    }\n}\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if(\"ref\"in p)for(c in p={},t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(t=function(r){return null!==r&&\"object\"==typeof r&&\"function\"==typeof r.valueOf?r.valueOf():r}(t),\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),s=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(s=\"px;\"),i=i+l+\":\"+a+s}}return e+'=\"'+n(i)+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(\"\"+t)+'\"'}function s(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=s(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,s as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUlSURBVFjDrZdLiBxVFIb/e289uqt6kkx6zIiIoKgLRReKuMhCcaOIAUEIiCCE4CIPggZ8kBjooPgM0TiYEUUjqBGchZqAQlyYRTA+kJiJQiJGMjN5zYzT3dP1rrr3HBeTjDGTSfc8Dvyruud89Z9z6kIJdBj31763MivsJXKuZYF6dak5++2mh7NOcsXVHq6sHbhOK/24kOJJMO4AE1vKygwZhxlKSHGKiD+RSu09vOXB43OCrHz96y6T2lsh+OmKXzFdlbLne2UopSAupBhjECcZgjDMgiiSxPhcK/nCr1sfOtcWcm/tq9uEsL4rl0vdK67pKVu2jUwTMk0wBBAzpBCQAnAtiZIlwWQwPlHPglZQAFj1Y23VwVkh92zbd59U+Kanp+p2L12mooKQ5AbcpuclS6LiKoRhxOfHzhXMcs3PtVV7Z0DufXH/LSzpSG9vr1/p6kIz0dDUrvx/IYXAsrJCkWc4e/Z0Zpgf+KX26A/TkNtrXziesY9Xq8tvWNZdVfVYg7hzwKVv3O3ZiKMWj46OTrq5fdOh1x5pSADwjdzo2nbv0u6qqkca2jCIMGcZAuqRhu8vEX7ZK2V2WgMAcXdtvyeKbPS662+osCohzMycHVweniNREoShoZO5KYobpciSh23bFq7rIUgNiLFghRkBlg2v7GlpiccsCHrcryzxUk3zmsNskeYGvt/lxVH4hMWEu9xSWaQFYQ7L1B6iGZ5bBoy+zWKiHiltFHpqeIsVhWaosg1iqlgg4wAAEYEXsV3EmNppJmExMFYUxfVSuIs6E0sI5FkBBhLJzH9laQxLSjBj0WQJgSJPweDTkknvS4JGbCuxKOt7UY4lEQfNnAu9TzLxN2nUdAQTLAEw8YIlAVgAkmDCSBL75eCutSeY+GTUqqNkqUVxUbIl4qgJo4vWzecrhyQAMJldYf1MXLLl1EIsYBZgoGwpRI2zMTPtGBhYbSQAlJF9lieRzNMIriVBzPOWawvoIkYaNC0u9IcAIAHgp75NLQl8ENbPZJ6jgAU48RyFqHEuZyE+Pda/vjENAQBD5s209Y+kPJlyM4+r3lUS0AWSyVEhpHnjYu1pyO+7N4ywwPvhxHDiuwo8j1b5rkQwMZIziYHBXetPzIAAgIV8exZOSMoieI6aU5vKtgR0jqw1JtiYbZfW/R/kSN+mcWbxdtwYjn1XTd9B7cQAfNdCWB/OhBR7jvWv/3tWCAAoO3ktjyZZJ0HHbsq2AooERVQXzPKly2vOgPz29jNNBr+e1IcSz5YAM4hmFzPDtyWS+lDK4N2DfU+dbgsBAFHyd+oszE3agt/GjWcrUBEjj5sQBb96pXpXhAzueDJi4u1p41TsuQpCiFln4bkKeXMoJeadg++tG+sYAgBBXOo3RRrruAnfkWDmGfIdCeQhiiQgQbxjtlqzQk59vCZlNluL5lDiORLyMjcA4DsKeXM4AfDKxa97ThAAqPaMfaR1Nq6jOiqOAhOm5TsKJg1QZGGRedY7V6tzVcjBWk1D0JZ8cigt2RJSimkXnqOgW8MxQLUTb6wN5g0BgGPV0c9BekTH41xx5YXrQ8FkTRgdpxU7ea9djbYQ1GokmJ43wUhWtgRcS04tQjAcw9CWw29tThYOAXD03XVfMps/TTTOy30blDZgiqxFK6p7OsnvCDJ1UD9LyUjORoPDkUQyPfdHbXW+qJCjfRsOwOAoNY4z6Xz01rHq3k5zO4ZMHTabYSIhJD87MLB64f8Ys8WdG/tfBljMJedfwY+s/2P4Pv8AAAAASUVORK5CYII=\"","import ol from 'ol'\nimport { Component } from 'preact';\nimport markerImage from '../assets/glyph-marker-icon.png'\n\nconst defaultStyle = new ol.style.Style({\n    image: new ol.style.Icon({\n        anchor: [12, 41],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels',\n        src: markerImage\n    })\n});\n\nexport default class Marker extends Component {\n    constructor(options) {\n        super(options);\n\n        const lngLat = options.lngLat;\n        const map = options.map;\n        \n        const feature = this.feature = new ol.Feature({\n            type: 'waypointMarker',\n            geometry: new ol.geom.Point(ol.proj.fromLonLat(lngLat))\n        });\n\n        feature.setStyle(defaultStyle);\n\n        this.layer = new ol.layer.Vector({\n            updateWhileInteracting: true,\n            source: new ol.source.Vector({\n                features: [feature]\n            })\n        });\n        this.layer.setZIndex(10);\n        this.onDown = this.onDown.bind(this);\n        this.drag = this.drag.bind(this);\n        this.dragEnd = this.dragEnd.bind(this);\n        this.setCoordinate = this.setCoordinate.bind(this);\n\n        map.addLayer(this.layer);\n        map.on('pointerdown', this.onDown, this);\n    }\n        \n    componentDidUpdate(prevProps) {\n        if (prevProps.lngLat.join(';') !== this.props.lngLat.join(';')) {\n            this.feature.getGeometry().setCoordinates(ol.proj.fromLonLat(this.props.lngLat));\n        }\n    }\n\n    componentWillUnmount () {\n        const map = this.props.map;\n        map.removeLayer(this.layer);\n        map.un('pointerdrag', this.drag, this);\n        map.un('pointerdown', this.onDown, this);\n        map.un('pointerup', this.dragEnd, this);\n    }\n\n    onDown (e) {\n        let foundFeatures = false;\n        const map = this.props.map;\n        map.forEachFeatureAtPixel(e.pixel, (feature, layer) => {\n            if (layer === this.layer) {\n                map.on('pointerdrag', this.drag, this);\n                map.once('pointerup', this.dragEnd, this);\n                foundFeatures = true;\n            }\n        });\n\n        if (foundFeatures) {\n            return false;\n        }\n    }\n\n    drag (e) {\n        this.setCoordinate(e.coordinate);\n        const event = new CustomEvent('drag', {detail: { lngLat: ol.proj.toLonLat(e.coordinate) }});\n        this.props.onDrag(event);\n    };\n\n    dragEnd (e) {\n        const map = this.props.map;\n        map.un('pointerdrag', this.drag, this);\n        const event = new CustomEvent('dragend', {detail: { lngLat: ol.proj.toLonLat(e.coordinate) }});\n        this.props.onDragEnd(event);\n    };\n\n    setCoordinate (coordinate) {\n        this.feature.getGeometry().setCoordinates(coordinate);\n    };\n}\n","var nargs = /\\{([0-9a-zA-Z_]+)\\}/g\n\nmodule.exports = template\n\nfunction template(string) {\n    var args\n\n    if (arguments.length === 2 && typeof arguments[1] === \"object\") {\n        args = arguments[1]\n    } else {\n        args = new Array(arguments.length - 1)\n        for (var i = 1; i < arguments.length; ++i) {\n            args[i - 1] = arguments[i]\n        }\n    }\n\n    if (!args || !args.hasOwnProperty) {\n        args = {}\n    }\n\n    return string.replace(nargs, function replaceArg(match, i, index) {\n        var result\n\n        if (string[index - 1] === \"{\" &&\n            string[index + match.length] === \"}\") {\n            return i\n        } else {\n            result = args.hasOwnProperty(i) ? args[i] : null\n            if (result === null || result === undefined) {\n                return \"\"\n            }\n\n            return result\n        }\n    })\n}\n","import template from 'string-template'\n\nconst defaults = {\n    unitNames: {\n        meters: 'm',\n        kilometers: 'km',\n        miles: 'mi',\n        yards: 'yd',\n        hours: 'h',\n        minutes: 'min',\n        seconds: 's',\n    },\n    roundingSensitivity: 1,\n    distanceTemplate: '{value} {unit}'\n}\n\nexport function formatDistance(d /* Number (meters) */, sensitivity, options) {\n    options = options || defaults;\n    sensitivity = sensitivity || options.roundingSensitivity;\n    const un = options.unitNames;\n    const simpleRounding = sensitivity <= 0;\n    const roundFn = simpleRounding ? function (v) {\n        return v;\n    } : round;\n    let data;\n\n    if (options.units === 'imperial') {\n        const yards = d / 0.9144;\n        if (yards >= 1000) {\n            data = {\n                value: roundFn(d / 1609.344, sensitivity),\n                unit: un.miles\n            };\n        } else {\n            data = {\n                value: roundFn(yards, sensitivity),\n                unit: un.yards\n            };\n        }\n    } else {\n        let v = roundFn(d, sensitivity);\n        data = {\n            value: v >= 1000 ? (v / 1000) : v,\n            unit: v >= 1000 ? un.kilometers : un.meters\n        };\n    }\n\n    if (simpleRounding) {\n        data.value = data.value.toFixed(-sensitivity);\n    }\n\n    return template(options.distanceTemplate, data);\n}\n\nfunction round(d, sensitivity) {\n    let s = sensitivity,\n            pow10 = Math.pow(10, (`${Math.floor(d / s)  }`).length - 1),\n            r = Math.floor(d / pow10),\n            p = (r > 5) ? pow10 : pow10 / 2;\n\n    return Math.round(d / p) * p;\n}\n\nexport function formatDuration(t /* Number (seconds) */, options) {\n    options = options || defaults\n    let un = options.unitNames;\n    // More than 30 seconds precision looks ridiculous\n    t = Math.round(t / 30) * 30;\n\n    if (t > 86400) {\n        return `${Math.round(t / 3600)  } ${  un.hours}`;\n    } else if (t > 3600) {\n        return `${Math.floor(t / 3600)  } ${  un.hours  } ${ \n                Math.round((t % 3600) / 60)  } ${  un.minutes}`;\n    } else if (t > 300) {\n        return `${Math.round(t / 60)  } ${  un.minutes}`;\n    } else if (t > 60) {\n        return `${Math.floor(t / 60)  } ${  un.minutes \n                }${t % 60 !== 0 ? ` ${  t % 60  } ${  un.seconds}` : ''}`;\n    } \n        return `${t  } ${  un.seconds}`;\n     \n}\n\nexport function getLastWaypointIndexBefore(route, lngLat) {\n    return route.coordinates.reduce((a, c, i) => {\n        if (i === route.waypointIndices[a.nextWpIndex]) {\n            a.nextWpIndex++\n        }\n\n        // Euclidean math in lat/lng space because what could possibly go wrong?\n        const d = Math.hypot(c[0] - lngLat[0], c[1] - lngLat[1])\n        if (d < a.minDist) {\n            a.wpIndex = a.nextWpIndex - 1\n            a.index = i\n            a.minDist = d\n        }\n\n        return a\n    }, {nextWpIndex: 0, wpIndex: -1, minDist: 1e9}).wpIndex\n}\n","import ol from 'ol'\nimport { Component } from 'preact';\nimport {getLastWaypointIndexBefore} from '../utils'\n\nexport default class RouteLine extends Component {\n    constructor(options) {\n        super(options);\n\n        const map = options.map;\n        this.props.coords = options.route.coordinates.map(c => ol.proj.fromLonLat(c));\n        this.state = {};\n        this.style = this.getStyle(this.props.selected);\n\n        this.line = new ol.Feature({\n            type: 'route',\n            geometry: new ol.geom.LineString(this.props.coords),\n        });\n\n        this.layer = new ol.layer.Vector({\n            updateWhileInteracting: true,\n            source: new ol.source.Vector({\n                features: [this.line]\n            }),\n            style: this.style,\n        });\n\n        map.addLayer(this.layer);\n\n        this.onClick = this.onClick.bind(this);\n        this.onPointerDown = this.onPointerDown.bind(this);\n        this.onDrag = this.onDrag.bind(this);\n\n        map.on('click', this.onClick, this);\n        map.on('pointerdown', this.onPointerDown, this);\n    }\n\n    componentWillUnmount () {\n        const map = this.props.map;\n        map.removeLayer(this.layer);\n        map.un('click', this.onClick, this);\n        map.un('pointerdown', this.onPointerDown, this);\n    }\n\n    shouldComponentUpdate(nextProps) {\n        nextProps.coords = nextProps.route.coordinates.map(c => ol.proj.fromLonLat(c));\n        this.style = this.getStyle(nextProps.selected);\n        this.line.getGeometry().setCoordinates(nextProps.coords);\n        this.layer.setStyle(this.style);\n\n        return true;\n    }\n\n    getStyle(selected) {\n        let stroke = new ol.style.Stroke({\n            width: selected ? 5 : 5,\n            color: selected ? '#3388ff' : '#ff3388',\n        });\n        return new ol.style.Style({stroke}); \n    }\n\n    onClick (e) {\n        const map = this.props.map;\n        let foundFeatures = false;\n\n        map.forEachFeatureAtPixel(e.pixel, (feature, layer) => {\n            if (layer === this.layer) {\n                if (this.props.selected) {\n                    if (this.props.onClick) {\n                        const route = this.props.route;\n                        const lngLat = ol.proj.toLonLat(e.coordinate);\n                        const event = new CustomEvent(\n                            'click',\n                            {\n                                detail: {\n                                    afterWpIndex: getLastWaypointIndexBefore(route, lngLat),\n                                    lngLat,\n                                }\n                            }\n                        );\n                        this.props.onClick(event);\n                    }\n                } else if (this.props.onSelected) {\n                    const event = new CustomEvent('selected', {detail: { route: this.props.route }});\n                    this.props.onSelected(event);\n                }\n            }\n        });\n        \n        if (foundFeatures) {\n            return false;\n        }\n    }\n\n    onPointerDown (e) {\n        const map = this.props.map;\n        map.forEachFeatureAtPixel(e.pixel, (feature, layer) => {\n            if (layer === this.layer) {\n                map.once('pointerdrag', this.onDrag, this);\n                map.once('pointerup', () => map.un('pointerdrag', this.onDrag, this));\n            }\n        });\n    }\n\n    onDrag (e) {\n        if (!this.state.selected) {\n            return;\n        }\n        if (!this.props.onDragging) {\n            return;\n        }\n\n        const map = this.props.map;\n        let foundFeatures = false;\n\n        map.forEachFeatureAtPixel(e.pixel, (feature, layer) => {\n            if (layer === this.layer) {\n                const map = this.props.map;\n                const route = this.props.route;\n\n                map.un('pointerdrag', this.onDrag, this);\n\n                const lngLat = ol.proj.toLonLat(e.coordinate);\n                const event = new CustomEvent(\n                    'dragging',\n                    {\n                        detail: {\n                            afterWpIndex: getLastWaypointIndexBefore(route, lngLat),\n                            lngLat,\n                        }\n                    }\n                );\n                this.props.onDragging(event);\n                e.preventDefault();\n            }\n        });\n\n        if (foundFeatures) {\n            return false;\n        }\n    }\n}\n","import { Component } from 'preact';\n\nexport default class Geocoder extends Component {\n    constructor(options) {\n        super(options);\n        this.state = {\n            waypoint: options.waypoint,\n            suggestions: [],\n            showSuggestions: false,\n            selectedIndex: -1\n        };\n\n        this.reverseGeocode = this.reverseGeocode.bind(this);\n        this.keydown = this.keydown.bind(this);\n        this.input = this.input.bind(this);\n\n        if (this.state.waypoint && !this.state.waypoint.name) {\n            this.reverseGeocode();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextState.waypoint && !nextState.waypoint.name) {\n            this.reverseGeocode();\n        }\n\n        return true;\n    }\n\n    keydown (e) {\n        const current = this.state.selectedIndex;\n        switch (e.keyCode) {\n            case 13:\n                if (current >= 0) {\n                    this.selectSuggestion(this.state.suggestions[current]);\n                } else {\n                    this.geocode(e);\n                }\n                break;\n            case 38:\n                this.changeSelection(-1);\n                break;\n            case 40:\n                this.changeSelection(1);\n                break;\n        }\n    }\n\n    input (e) {\n        this.state.waypoint.name = e.target.value;\n    }\n\n    changeSelection(direction) {\n        const current = this.state.selectedIndex;\n        const cnt = this.state.suggestions.length;\n        this.setState({selectedIndex: (current + direction) % cnt});\n    }\n\n    geocode (e) {\n        const waypoint = this.state.waypoint;\n        const inputValue = e.target.value;\n        const component = this;\n\n        this.props.geocoder.geocode(inputValue, results => {\n            results = results.map(result => ({\n                name: result.name,\n                lngLat: [result.center.lng, result.center.lat]\n            }));\n\n            if (results.length === 1) {\n                if (component.props.onGeocoded) {\n                    waypoint.name = results[0];\n                    const event = new CustomEvent('geocoded', {detail: results[0]});\n                    component.props.onGeocoded(event);\n                }\n            } else {\n                component.setState({showSuggestions: true, suggestions: results, selectedIndex: -1, waypoint});\n            }\n        });\n        \n        return false;\n    }\n\n    reverseGeocode () {\n        const waypoint = this.state.waypoint;\n        const lngLat = waypoint.lngLat;\n        const component = this;\n\n        if (lngLat) {\n            this.props.geocoder.reverse(\n                {lat: lngLat[1], lng: lngLat[0]},\n                5,\n                (results) => {\n                    component.state.waypoint.name = results[0].name;\n                    if (component.props.onReverseGeocoded) {\n                        const event = new CustomEvent(\n                            'reversegeocoded',\n                            {\n                                detail: {\n                                    name: results[0].name,\n                                    lngLat: [results[0].center.lng, results[0].center.lat]\n                                }\n                            }\n                        );\n                        component.props.onReverseGeocoded(event);\n                    }\n                }\n            );\n        }\n    }\n\n    selectSuggestion (suggestion) {\n        this.setState({showSuggestions: false, suggestions: [], selectedIndex: -1});\n        if (this.props.onGeocoded) {\n            const event = new CustomEvent('geocoded', {detail: suggestion});\n            this.props.onGeocoded(event);\n        }\n    }\n\n    render(props, state) {\n        return <div class=\"routing-control-geocoder\">\n            <input\n                value={props.waypoint.name}\n                onKeydown={(event) => this.keydown(event)}\n                onInput={(event) => this.input(event)} />\n                { state.showSuggestions &&\n                    <ul>\n                        {state.suggestions.map((suggestion, i) => (\n                            <li key={i} class={state.selectedIndex === i ? 'selected' : ''}>\n                                <button type=\"button\" onMouseDown={() => this.selectSuggestion(suggestion)}>{suggestion.name}</button>\n                            </li>\n                        ))}\n                    </ul>\n                }\n        </div>;\n    }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAwnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBRDsMgCP3nFDuCAiocx65tshvs+MOCTdvsJT4eYJ4IbN/PDq8BzAxcmlStNRlYWbGbkOToB+fEB19rI7/V4WyglcgieSo17s96Pg08dFPlYiTvaCz3hnL4y8MoHqIxEZpYw0jDiNAbOQx6TFpV2vULy5buED8waJ87aR6eOTfb3lrsHULcKFMyJqo+AI1TgLoJNc4kdtE1UTl4fskW8m9PE/ADnrZZ6+0HHFoAAAGEaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1O1KhVBO4g4RKhOdlERx1qFIlQotUKrDiaXfkGThiTFxVFwLTj4sVh1cHHW1cFVEAQ/QNwFJ0UXKfF/SaFFjAfH/Xh373H3DhDqZaaaHVFA1SwjFY+JmeyqGHhFDwbQhVHMSMzU55LJBDzH1z18fL2L8Czvc3+OPiVnMsAnEkeZbljEG8Qzm5bOeZ84xIqSQnxOPGHQBYkfuS67/Ma54LDAM0NGOjVPHCIWC20stzErGirxNHFYUTXKFzIuK5y3OKvlKmvek78wmNNWlrlOcwRxLGIJSYiQUUUJZViI0KqRYiJF+zEP/7DjT5JLJlcJjBwLqECF5PjB/+B3t2Z+atJNCsaAzhfb/hgDArtAo2bb38e23TgB/M/AldbyV+rA7CfptZYWPgL6t4GL65Ym7wGXO8DQky4ZkiP5aQr5PPB+Rt+UBQZvgd41t7fmPk4fgDR1lbgBDg6B8QJlr3u8u7u9t3/PNPv7AcvYcsqOkbcxAAANeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDpmMGY1ZGYyNy05NzMzLTRhNzYtYWIwMy03NTc5OWE2N2I5MDkiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YzQ4ZDRjZWYtNzljNS00OTkwLWJjZmUtNmNkMmIxYTdhMGIxIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDcyMDQ3ZmEtNjVmNS00ZGIwLWFhZjgtYmZlMjg0NDQyOGIyIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTGludXgiCiAgIEdJTVA6VGltZVN0YW1wPSIxNzU4MTc3MzMzOTcwOTYxIgogICBHSU1QOlZlcnNpb249IjIuMTAuMzYiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDI1OjA5OjE4VDA5OjM1OjMzKzAzOjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyNTowOToxOFQwOTozNTozMyswMzowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNlYWI3YjcwLTFhYTgtNGM4OC04N2QyLWU2MDUzNDllZDBkOSIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChMaW51eCkiCiAgICAgIHN0RXZ0OndoZW49IjIwMjUtMDktMThUMDk6MzU6MzMrMDM6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+FU1mbwAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+kJEgYjIfzSBgIAAAEiSURBVBjTddA9S8NQGAXg897kNl+mTVsCKg4GhyKIiIjgog4OroLoD3DwNzm4iwgODoo4qIuLiIOLg8RBrFKKbUq+muReBx0qxAfOdjjDIfzqAuOGPrEdz8wtETGm+8+Pcfh63ATeAIAAoKMYm5a3cqhya5JlKUAEoVaQ51En9B/23fzrlNrAfNVbvdEL6bBogFFSN5HyyiDwrzeo68we1c3GLkV9lJFGDb2kf0ZBrdW3hVqFyEuLYAwB5ymTiqYBAv9joCJNWSHFpRxrAJyXRtoOMmLn9AksV731Ky0b2pREf7aEaSNRqBf4t2s/96j1LctbPFBV02X5EJASgmvIs/A99O/23CK+oJHDpwxreifxWgtSCmG8PN3HSfukCXwAwDemtW0lSvxGggAAAABJRU5ErkJggg==\"","import ol from 'ol'\nimport { Component } from 'preact';\nimport { formatDuration, formatDistance } from '../utils'\nimport circleImage from '../assets/glyph-circle-icon.png'\n\nconst defaultStyle = new ol.style.Style({\n    image: new ol.style.Icon({\n        anchor: [5, 5],\n        anchorXUnits: 'pixels',\n        anchorYUnits: 'pixels',\n        src: circleImage\n    })\n});\n\nexport default class Itinerary extends Component {\n    constructor(options) {\n        super(options);\n        this.formatDuration = formatDuration;\n        this.formatDistance = formatDistance;\n        this.clicked = this.clicked.bind(this);\n        this.onStepSelected = this.onStepSelected.bind(this);\n        this.state = {\n            stepIdx: -1\n        };\n        const map = options.map;\n        \n        this.feature = new ol.Feature({\n            type: 'waypointMarker',\n            geometry: new ol.geom.Point([])\n        });\n        this.feature.setStyle(defaultStyle);\n        this.layer = new ol.layer.Vector({\n            updateWhileInteracting: true,\n            source: new ol.source.Vector({\n                features: [this.feature]\n            })\n        });\n        this.layer.setZIndex(5);\n        map.addLayer(this.layer);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextState.stepIdx !== -1) {\n            const step = this.props.route.instructions[nextState.stepIdx];\n            this.feature.getGeometry().setCoordinates(ol.proj.fromLonLat(step.coordinate));\n        } else {\n            this.feature.getGeometry().setCoordinates([]);\n        }\n    }\n\n    componentWillUnmount () {\n        const map = this.props.map;\n        map.removeLayer(this.layer);\n    }\n\n    clicked () {\n        const event = new CustomEvent('selected', {detail: { route: this.props.route }});\n\n        if (this.props.onSelected) {\n            this.props.onSelected(event);\n        }\n\n        return false;\n    }\n\n    onStepSelected(e, i) {\n        this.setState({stepIdx: i});\n    }\n\n    render(props, state) {\n        return <div class={(props.selected ? 'routing-alternative routing-selected' : 'routing-alternative')}>\n            <div class=\"routing-header\">\n                <h1>\n                    <a href=\"#\" onClick={this.clicked}>{props.route.name}</a>\n                </h1>\n                <div class=\"routing-route-summary\">\n                    {formatDistance(props.route.summary.totalDistance, -1)}, &nbsp;\n                    {formatDuration(props.route.summary.totalTime)}\n                </div>\n            </div>\n            <div class=\"routing-route-itinerary\">\n                <table onMouseOut={(event) => this.onStepSelected(event, -1)}>\n                    <tbody>\n                        {props.route.instructions.map((instr, i) => (\n                            <tr key={i} class={state.stepIdx === i ? 'selected' : ''} onMouseOver={(event) => this.onStepSelected(event, i)}>\n                                <td>{instr.text}</td>\n                                <td class=\"distance\">{formatDistance(instr.distance, -1)}</td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>;\n    }\n}\n","import { Component, Fragment } from 'preact';\nimport Marker from './Marker.jsx'\nimport RouteLine from './RouteLine.jsx'\nimport Geocoder from './Geocoder.jsx'\nimport Itinerary from './Itinerary.jsx'\nimport Waypoint from '../waypoint'\n\nexport default class Control extends Component {\n    constructor(options) {\n        super(options);\n        this.routeInterval = 1000;\n        this.waypointsUpdated = false;\n        this.lastRouteTimestamp = +new Date();\n        this.waypointsListener = options.onWaypointsUpdate ? options.onWaypointsUpdate : null;\n        this.routesListener = options.onRoutesUpdate ? options.onRoutesUpdate : null;\n\n        this.state = {\n            waypoints: options.waypoints,\n            geocoder: options.geocoder,\n            routes: [],\n            draggedWaypoint: null,\n            routeDebounce: null,\n            selectedRoute: null,\n        };\n        this.routeReceived = this.routeReceived.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.router.route(this.state.waypoints, this.routeReceived);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.waypointsUpdated && ((+new Date())-this.lastRouteTimestamp) >= this.routeInterval) {\n            this.lastRouteTimestamp = +new Date();\n            this.waypointsUpdated = false;\n            nextProps.router.route(nextState.waypoints, this.routeReceived);\n        }\n\n        return true;\n    }\n\n    routeReceived(err, newRoutes) {\n        this.setState({routes: newRoutes, selectedRoute: newRoutes[0]});\n        if (this.routesListener) {\n            setTimeout(\n                () => {\n                    const event = new CustomEvent(\n                        'routesUpdate',\n                        {\n                            detail: {routes: newRoutes, selectedRoute: 0}\n                        }\n                    );\n                    this.routesListener(event);\n                },\n                0\n            );\n        }\n    }\n\n    dragWaypoint(e, i, dragging) {\n        if (this.state.routeDebounce) {\n            clearTimeout(this.state.routeDebounce);\n        }\n        const now = +new Date();\n        const firstNextRun = (this.lastRouteTimestamp || now) + this.routeInterval;\n        const timeout = Math.max(0, firstNextRun - now);\n        const routeDebounce = setTimeout(() => {\n            const waypoints = this.state.waypoints.slice();\n            const waypoint = new Waypoint(\n                e.detail.lngLat,\n                dragging ? waypoints[i].name : null,\n                waypoints[i].options\n            );\n            waypoints[i] = waypoint;\n            const state = {waypoints};\n            if (!dragging) {\n                state.draggedWaypoint = null;\n            }\n            this.waypointsUpdated = (\n                Math.abs(e.detail.lngLat[0]-waypoint.lngLat[0]) > 0.001 ||\n                Math.abs(e.detail.lngLat[0]-waypoint.lngLat[1]) > 0.001\n            );\n            this.setState(state);\n            if (this.waypointsListener) {\n                setTimeout(\n                    () => {\n                        const event = new CustomEvent(\n                            'waypointsUpdate',\n                            {\n                                detail: {waypoint: waypoints[i], idx: i}\n                            }\n                        );\n                        this.waypointsListener(event);\n                    },\n                    0\n                );\n            }\n        }, timeout);\n        this.setState({routeDebounce});\n    }\n\n    selectRoute(route) {\n        this.setState({selectedRoute: route});\n        if (this.routesListener) {\n            setTimeout(\n                () => {\n                    const event = new CustomEvent(\n                        'routesUpdate',\n                        {\n                            detail: {routes: this.state.routes, selectedRoute: this.state.routes.indexOf(route)}\n                        }\n                    );\n                    this.routesListener(event);\n                },\n                0\n            );\n        }\n    }\n\n    setWaypoint(i, data) {\n        const waypoints = this.state.waypoints.slice();\n        const waypointsUpdated = (\n            (Math.abs(data.lngLat[0]-waypoints[i].lngLat[0]) > 0.001) ||\n            (Math.abs(data.lngLat[1]-waypoints[i].lngLat[1]) > 0.001)\n        );\n\n        waypoints[i] = new Waypoint(data.lngLat, data.name, data.options);\n        this.setState({waypoints});\n\n        if (waypointsUpdated) {\n            if (this.waypointsListener) {\n                setTimeout(\n                    () => {\n                        const event = new CustomEvent(\n                            'waypointsUpdate',\n                            {\n                                detail: {waypoint: waypoints[i], idx: i}\n                            }\n                        );\n                        this.waypointsListener(event);\n                    },\n                    0\n                );\n            }\n            setTimeout(\n                () => {\n                    this.props.router.route(this.state.waypoints, this.routeReceived);\n                },\n                0\n            );\n        }\n    }\n\n    addDraggingWaypoint(afterWpIndex, lngLat) {\n        let waypoints = [];\n        for (let i = 0; i < this.state.waypoints.length; i++) {\n            waypoints[i] = new Waypoint(\n                this.state.waypoints[i].lngLat,\n                this.state.waypoints[i].name,\n                this.state.waypoints[i].options\n            );\n        }\n        let waypoint = new Waypoint(lngLat);\n        waypoints.splice(afterWpIndex + 1, 0, waypoint);\n        this.setState({waypoints});\n\n        if (this.waypointsListener) {\n            for (let i = afterWpIndex + 1; i < waypoints.length; i++) {\n                console.log(i);\n                setTimeout(\n                    () => {\n                        const event = new CustomEvent(\n                            'waypointsUpdate',\n                            {\n                                detail: {waypoint: waypoints[i], idx: i}\n                            }\n                        );\n                        this.waypointsListener(event);\n                    },\n                    0\n                );\n            }\n        }\n    }\n\n    render(props, state) {\n        return <div class=\"routing-control\">\n            <div>\n                {state.waypoints.map((waypoint, i) => (\n                    <Fragment key={i}>\n                        <Marker\n                            map={props.map}\n                            lngLat={waypoint.lngLat}\n                            dragging={state.draggedWaypoint === waypoint}\n                            onDrag={(event) => this.dragWaypoint(event, i, true)}\n                            onDragEnd={(event) => this.dragWaypoint(event, i)}\n                        />\n                        { props.geocoder &&\n                            <Geocoder\n                                waypoint={waypoint}\n                                geocoder={props.geocoder}\n                                onGeocoded={(event) => this.setWaypoint(i, event.detail)}\n                                onReverseGeocoded={(event) => this.setWaypoint(i, event.detail)}\n                            />\n                        }\n                    </Fragment>\n                ))}\n            </div>\n            <div>\n                {state.routes.map((route, i) => (\n                    <Fragment key={i}>\n                        <RouteLine\n                            map={props.map}\n                            route={route}\n                            selected={state.selectedRoute === route}\n                            onSelected={() => this.selectRoute(route)}\n                            onClick={(event) => this.addDraggingWaypoint(event.detail.afterWpIndex, event.detail.lngLat)}\n                        />\n                        <Itinerary\n                            map={props.map}\n                            route={route}\n                            selected={state.selectedRoute === route}\n                            onSelected={() => this.selectRoute(route)}\n                        />\n                    </Fragment>\n                ))}\n            </div>\n        </div>;\n    }\n}\n","import { Component } from 'preact';\nimport Control from './Control.jsx';\nimport '../main.css';\n\n// eslint-disable-next-line react/prefer-stateless-function\nexport default class ControlWrapper extends Component {\n    render(props) {\n        return <div class=\"routing-control-wrapper\">\n            <Control\n                map={props.map}\n                waypoints={props.waypoints}\n                router={props.router}\n                geocoder={props.geocoder}\n                onWaypointsUpdate={props.waypointsListener}\n                onRoutesUpdate={props.routesListener}\n            />\n        </div>;\n    }\n}\n","/**\n * @module ol/MapEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered after a map frame is rendered.\n   * @event module:ol/MapEvent~MapEvent#postrender\n   * @api\n   */\n  POSTRENDER: 'postrender',\n\n  /**\n   * Triggered when the map starts moving.\n   * @event module:ol/MapEvent~MapEvent#movestart\n   * @api\n   */\n  MOVESTART: 'movestart',\n\n  /**\n   * Triggered after the map is moved.\n   * @event module:ol/MapEvent~MapEvent#moveend\n   * @api\n   */\n  MOVEEND: 'moveend',\n\n  /**\n   * Triggered when loading of additional map data (tiles, images, features) starts.\n   * @event module:ol/MapEvent~MapEvent#loadstart\n   * @api\n   */\n  LOADSTART: 'loadstart',\n\n  /**\n   * Triggered when loading of additional map data has completed.\n   * @event module:ol/MapEvent~MapEvent#loadend\n   * @api\n   */\n  LOADEND: 'loadend',\n};\n\n/***\n * @typedef {'postrender'|'movestart'|'moveend'|'loadstart'|'loadend'} Types\n */\n","/**\n * @module ol/ObjectEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when a property is changed.\n   * @event module:ol/Object.ObjectEvent#propertychange\n   * @api\n   */\n  PROPERTYCHANGE: 'propertychange',\n};\n\n/**\n * @typedef {'propertychange'} Types\n */\n","/**\n * @module ol/events/EventType\n */\n\n/**\n * @enum {string}\n * @const\n */\nexport default {\n  /**\n   * Generic change event. Triggered when the revision counter is increased.\n   * @event module:ol/events/Event~BaseEvent#change\n   * @api\n   */\n  CHANGE: 'change',\n\n  /**\n   * Generic error event. Triggered when an error occurs.\n   * @event module:ol/events/Event~BaseEvent#error\n   * @api\n   */\n  ERROR: 'error',\n\n  BLUR: 'blur',\n  CLEAR: 'clear',\n  CONTEXTMENU: 'contextmenu',\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DROP: 'drop',\n  FOCUS: 'focus',\n  KEYDOWN: 'keydown',\n  KEYPRESS: 'keypress',\n  LOAD: 'load',\n  RESIZE: 'resize',\n  TOUCHMOVE: 'touchmove',\n  WHEEL: 'wheel',\n};\n","/**\n * @module ol/Disposable\n */\n\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nclass Disposable {\n  constructor() {\n    /**\n     * The object has already been disposed.\n     * @type {boolean}\n     * @protected\n     */\n    this.disposed = false;\n  }\n\n  /**\n   * Clean up.\n   */\n  dispose() {\n    if (!this.disposed) {\n      this.disposed = true;\n      this.disposeInternal();\n    }\n  }\n\n  /**\n   * Extension point for disposable objects.\n   * @protected\n   */\n  disposeInternal() {}\n}\n\nexport default Disposable;\n","/**\n * @module ol/functions\n */\n\nimport {equals as arrayEquals} from './array.js';\n\n/**\n * Always returns true.\n * @return {boolean} true.\n */\nexport function TRUE() {\n  return true;\n}\n\n/**\n * Always returns false.\n * @return {boolean} false.\n */\nexport function FALSE() {\n  return false;\n}\n\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() {}\n\n/**\n * Wrap a function in another function that remembers the last return.  If the\n * returned function is called twice in a row with the same arguments and the same\n * this object, it will return the value from the first call in the second call.\n *\n * @param {function(...any): ReturnType} fn The function to memoize.\n * @return {function(...any): ReturnType} The memoized function.\n * @template ReturnType\n */\nexport function memoizeOne(fn) {\n  /** @type {ReturnType} */\n  let lastResult;\n\n  /** @type {Array<any>|undefined} */\n  let lastArgs;\n\n  let lastThis;\n\n  /**\n   * @this {*} Only need to know if `this` changed, don't care what type\n   * @return {ReturnType} Memoized value\n   */\n  return function () {\n    const nextArgs = Array.prototype.slice.call(arguments);\n    if (!lastArgs || this !== lastThis || !arrayEquals(nextArgs, lastArgs)) {\n      lastThis = this;\n      lastArgs = nextArgs;\n      lastResult = fn.apply(this, arguments);\n    }\n    return lastResult;\n  };\n}\n\n/**\n * @template T\n * @param {function(): (T | Promise<T>)} getter A function that returns a value or a promise for a value.\n * @return {Promise<T>} A promise for the value.\n */\nexport function toPromise(getter) {\n  function promiseGetter() {\n    let value;\n    try {\n      value = getter();\n    } catch (err) {\n      return Promise.reject(err);\n    }\n    if (value instanceof Promise) {\n      return value;\n    }\n    return Promise.resolve(value);\n  }\n  return promiseGetter();\n}\n","/**\n * @module ol/obj\n */\n\n/**\n * Removes all properties from an object.\n * @param {Object<string, unknown>} object The object to clear.\n */\nexport function clear(object) {\n  for (const property in object) {\n    delete object[property];\n  }\n}\n\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n  let property;\n  for (property in object) {\n    return false;\n  }\n  return !property;\n}\n","/**\n * @module ol/events/Event\n */\n\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nclass BaseEvent {\n  /**\n   * @param {string} type Type.\n   */\n  constructor(type) {\n    /**\n     * @type {boolean}\n     */\n    this.propagationStopped;\n\n    /**\n     * @type {boolean}\n     */\n    this.defaultPrevented;\n\n    /**\n     * The event type.\n     * @type {string}\n     * @api\n     */\n    this.type = type;\n\n    /**\n     * The event target.\n     * @type {Object}\n     * @api\n     */\n    this.target = null;\n  }\n\n  /**\n   * Prevent default. This means that no emulated `click`, `singleclick` or `doubleclick` events\n   * will be fired.\n   * @api\n   */\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n  evt.stopPropagation();\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n  evt.preventDefault();\n}\n\nexport default BaseEvent;\n","/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport {VOID} from '../functions.js';\nimport {clear} from '../obj.js';\nimport Event from './Event.js';\n\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nclass Target extends Disposable {\n  /**\n   * @param {*} [target] Default event target for dispatched events.\n   */\n  constructor(target) {\n    super();\n\n    /**\n     * @private\n     * @type {*}\n     */\n    this.eventTarget_ = target;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.pendingRemovals_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.dispatching_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").Listener>>|null}\n     */\n    this.listeners_ = null;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  addEventListener(type, listener) {\n    if (!type || !listener) {\n      return;\n    }\n    const listeners = this.listeners_ || (this.listeners_ = {});\n    const listenersForType = listeners[type] || (listeners[type] = []);\n    if (!listenersForType.includes(listener)) {\n      listenersForType.push(listener);\n    }\n  }\n\n  /**\n   * Dispatches an event and calls all listeners listening for events\n   * of this type. The event parameter can either be a string or an\n   * Object with a `type` property.\n   *\n   * @param {import(\"./Event.js\").default|string} event Event object.\n   * @return {boolean|undefined} `false` if anyone called preventDefault on the\n   *     event object or if any of the listeners returned false.\n   * @api\n   */\n  dispatchEvent(event) {\n    const isString = typeof event === 'string';\n    const type = isString ? event : event.type;\n    const listeners = this.listeners_ && this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n\n    const evt = isString ? new Event(event) : /** @type {Event} */ (event);\n    if (!evt.target) {\n      evt.target = this.eventTarget_ || this;\n    }\n    const dispatching = this.dispatching_ || (this.dispatching_ = {});\n    const pendingRemovals =\n      this.pendingRemovals_ || (this.pendingRemovals_ = {});\n    if (!(type in dispatching)) {\n      dispatching[type] = 0;\n      pendingRemovals[type] = 0;\n    }\n    ++dispatching[type];\n    let propagate;\n    for (let i = 0, ii = listeners.length; i < ii; ++i) {\n      if ('handleEvent' in listeners[i]) {\n        propagate = /** @type {import(\"../events.js\").ListenerObject} */ (\n          listeners[i]\n        ).handleEvent(evt);\n      } else {\n        propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (\n          listeners[i]\n        ).call(this, evt);\n      }\n      if (propagate === false || evt.propagationStopped) {\n        propagate = false;\n        break;\n      }\n    }\n    if (--dispatching[type] === 0) {\n      let pr = pendingRemovals[type];\n      delete pendingRemovals[type];\n      while (pr--) {\n        this.removeEventListener(type, VOID);\n      }\n      delete dispatching[type];\n    }\n    return propagate;\n  }\n\n  /**\n   * Clean up.\n   * @override\n   */\n  disposeInternal() {\n    this.listeners_ && clear(this.listeners_);\n  }\n\n  /**\n   * Get the listeners for a specified event type. Listeners are returned in the\n   * order that they will be called in.\n   *\n   * @param {string} type Type.\n   * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n   */\n  getListeners(type) {\n    return (this.listeners_ && this.listeners_[type]) || undefined;\n  }\n\n  /**\n   * @param {string} [type] Type. If not provided,\n   *     `true` will be returned if this event target has any listeners.\n   * @return {boolean} Has listeners.\n   */\n  hasListener(type) {\n    if (!this.listeners_) {\n      return false;\n    }\n    return type\n      ? type in this.listeners_\n      : Object.keys(this.listeners_).length > 0;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  removeEventListener(type, listener) {\n    if (!this.listeners_) {\n      return;\n    }\n    const listeners = this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n      if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n        // make listener a no-op, and remove later in #dispatchEvent()\n        listeners[index] = VOID;\n        ++this.pendingRemovals_[type];\n      } else {\n        listeners.splice(index, 1);\n        if (listeners.length === 0) {\n          delete this.listeners_[type];\n        }\n      }\n    }\n  }\n}\n\nexport default Target;\n","/**\n * @module ol/events\n */\nimport {clear} from './obj.js';\n\n/**\n * Key to use with {@link module:ol/Observable.unByKey}.\n * @typedef {Object} EventsKey\n * @property {ListenerFunction} listener Listener.\n * @property {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @property {string} type Type.\n * @api\n */\n\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n\n/**\n * @typedef {Object} ListenerObject\n * @property {ListenerFunction} handleEvent HandleEvent listener function.\n */\n\n/**\n * @typedef {ListenerFunction|ListenerObject} Listener\n */\n\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events.unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean} [once] If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, thisArg, once) {\n  if (once) {\n    const originalListener = listener;\n    /**\n     * @param {Event|import('./events/Event.js').default} event The event\n     * @return {void|boolean} When the function returns `false`, event propagation will stop.\n     * @this {typeof target}\n     */\n    listener = function (event) {\n      target.removeEventListener(type, listener);\n      return originalListener.call(thisArg ?? this, event);\n    };\n  } else if (thisArg && thisArg !== target) {\n    listener = listener.bind(thisArg);\n  }\n  const eventsKey = {\n    target: target,\n    type: type,\n    listener: listener,\n  };\n  target.addEventListener(type, listener);\n  return eventsKey;\n}\n\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events.unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events.listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, thisArg) {\n  return listen(target, type, listener, thisArg, true);\n}\n\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events.listen} or {@link module:ol/events.listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n  if (key && key.target) {\n    key.target.removeEventListener(key.type, key.listener);\n    clear(key);\n  }\n}\n","/**\n * @module ol/Observable\n */\nimport EventType from './events/EventType.js';\nimport EventTarget from './events/Target.js';\nimport {listen, listenOnce, unlistenByKey} from './events.js';\n\n/***\n * @template {string} Type\n * @template {Event|import(\"./events/Event.js\").default} EventClass\n * @template Return\n * @typedef {(type: Type, listener: (event: EventClass) => ?) => Return} OnSignature\n */\n\n/***\n * @template {string} Type\n * @template Return\n * @typedef {(type: Type[], listener: (event: Event|import(\"./events/Event\").default) => ?) => Return extends void ? void : Return[]} CombinedOnSignature\n */\n\n/**\n * @typedef {'change'|'error'} EventTypes\n */\n\n/***\n * @template Return\n * @typedef {OnSignature<EventTypes, import(\"./events/Event.js\").default, Return> & CombinedOnSignature<EventTypes, Return>} ObservableOnSignature\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * An event target providing convenient methods for listener registration\n * and unregistration. A generic `change` event is always available through\n * {@link module:ol/Observable~Observable#changed}.\n *\n * @fires import(\"./events/Event.js\").default\n * @api\n */\nclass Observable extends EventTarget {\n  constructor() {\n    super();\n\n    this.on =\n      /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (\n        this.onInternal\n      );\n\n    this.once =\n      /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (\n        this.onceInternal\n      );\n\n    this.un = /** @type {ObservableOnSignature<void>} */ (this.unInternal);\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.revision_ = 0;\n  }\n\n  /**\n   * Increases the revision counter and dispatches a 'change' event.\n   * @api\n   */\n  changed() {\n    ++this.revision_;\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * Get the version number for this object.  Each time the object is modified,\n   * its version number will be incremented.\n   * @return {number} Revision.\n   * @api\n   */\n  getRevision() {\n    return this.revision_;\n  }\n\n  /**\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n   * @protected\n   */\n  onInternal(type, listener) {\n    if (Array.isArray(type)) {\n      const len = type.length;\n      const keys = new Array(len);\n      for (let i = 0; i < len; ++i) {\n        keys[i] = listen(this, type[i], listener);\n      }\n      return keys;\n    }\n    return listen(this, /** @type {string} */ (type), listener);\n  }\n\n  /**\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n   * @protected\n   */\n  onceInternal(type, listener) {\n    let key;\n    if (Array.isArray(type)) {\n      const len = type.length;\n      key = new Array(len);\n      for (let i = 0; i < len; ++i) {\n        key[i] = listenOnce(this, type[i], listener);\n      }\n    } else {\n      key = listenOnce(this, /** @type {string} */ (type), listener);\n    }\n    /** @type {Object} */ (listener).ol_key = key;\n    return key;\n  }\n\n  /**\n   * Unlisten for a certain type of event.\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @protected\n   */\n  unInternal(type, listener) {\n    const key = /** @type {Object} */ (listener).ol_key;\n    if (key) {\n      unByKey(key);\n    } else if (Array.isArray(type)) {\n      for (let i = 0, ii = type.length; i < ii; ++i) {\n        this.removeEventListener(type[i], listener);\n      }\n    } else {\n      this.removeEventListener(type, listener);\n    }\n  }\n}\n\n/**\n * Listen for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.on;\n\n/**\n * Listen once for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.once;\n\n/**\n * Unlisten for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @api\n */\nObservable.prototype.un;\n\n/**\n * Removes an event listener using the key returned by `on()` or `once()`.\n * @param {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} key The key returned by `on()`\n *     or `once()` (or an array of keys).\n * @api\n */\nexport function unByKey(key) {\n  if (Array.isArray(key)) {\n    for (let i = 0, ii = key.length; i < ii; ++i) {\n      unlistenByKey(key[i]);\n    }\n  } else {\n    unlistenByKey(/** @type {import(\"./events.js\").EventsKey} */ (key));\n  }\n}\n\nexport default Observable;\n","/**\n * @module ol/util\n */\n\n/**\n * @return {never} Any return.\n */\nexport function abstract() {\n  throw new Error('Unimplemented abstract method.');\n}\n\n/**\n * Counter for getUid.\n * @type {number}\n * @private\n */\nlet uidCounter_ = 0;\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. Unique IDs are generated\n * as a strictly increasing sequence. Adapted from goog.getUid.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {string} The unique ID for the object.\n * @api\n */\nexport function getUid(obj) {\n  return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n}\n\n/**\n * OpenLayers version.\n * @type {string}\n */\nexport const VERSION = '10.6.0';\n","/**\n * @module ol/Object\n */\nimport ObjectEventType from './ObjectEventType.js';\nimport Observable from './Observable.js';\nimport Event from './events/Event.js';\nimport {isEmpty} from './obj.js';\nimport {getUid} from './util.js';\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n */\nexport class ObjectEvent extends Event {\n  /**\n   * @param {string} type The event type.\n   * @param {string} key The property name.\n   * @param {*} oldValue The old value for `key`.\n   */\n  constructor(type, key, oldValue) {\n    super(type);\n\n    /**\n     * The name of the property whose value is changing.\n     * @type {string}\n     * @api\n     */\n    this.key = key;\n\n    /**\n     * The old value. To get the new value use `e.target.get(e.key)` where\n     * `e` is the event object.\n     * @type {*}\n     * @api\n     */\n    this.oldValue = oldValue;\n  }\n}\n\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *    import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types, ObjectEvent, Return> &\n *    import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types, Return>} ObjectOnSignature\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Most non-trivial classes inherit from this.\n *\n * This extends {@link module:ol/Observable~Observable} with observable\n * properties, where each property is observable as well as the object as a\n * whole.\n *\n * Classes that inherit from this have pre-defined properties, to which you can\n * add your owns. The pre-defined properties are listed in this documentation as\n * 'Observable Properties', and have their own accessors; for example,\n * {@link module:ol/Map~Map} has a `target` property, accessed with\n * `getTarget()` and changed with `setTarget()`. Not all properties are however\n * settable. There are also general-purpose accessors `get()` and `set()`. For\n * example, `get('target')` is equivalent to `getTarget()`.\n *\n * The `set` accessors trigger a change event, and you can monitor this by\n * registering a listener. For example, {@link module:ol/View~View} has a\n * `center` property, so `view.on('change:center', function(evt) {...});` would\n * call the function whenever the value of the center property changes. Within\n * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n * would return the new center.\n *\n * You can add your own observable properties with\n * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n * You can listen for changes on that property value with\n * `object.on('change:prop', listener)`. You can get a list of all\n * properties with {@link module:ol/Object~BaseObject#getProperties}.\n *\n * Note that the observable properties are separate from standard JS properties.\n * You can, for example, give your map object a title with\n * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n * first will be a `hasOwnProperty`; the second will appear in\n * `getProperties()`. Only the second is observable.\n *\n * Properties can be deleted by using the unset method. E.g.\n * object.unset('foo').\n *\n * @fires ObjectEvent\n * @api\n */\nclass BaseObject extends Observable {\n  /**\n   * @param {Object<string, *>} [values] An object with key-value pairs.\n   */\n  constructor(values) {\n    super();\n\n    /***\n     * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {ObjectOnSignature<void>}\n     */\n    this.un;\n\n    // Call {@link module:ol/util.getUid} to ensure that the order of objects' ids is\n    // the same as the order in which they were created.  This also helps to\n    // ensure that object properties are always added in the same order, which\n    // helps many JavaScript engines generate faster code.\n    getUid(this);\n\n    /**\n     * @private\n     * @type {Object<string, *>|null}\n     */\n    this.values_ = null;\n\n    if (values !== undefined) {\n      this.setProperties(values);\n    }\n  }\n\n  /**\n   * Gets a value.\n   * @param {string} key Key name.\n   * @return {*} Value.\n   * @api\n   */\n  get(key) {\n    let value;\n    if (this.values_ && this.values_.hasOwnProperty(key)) {\n      value = this.values_[key];\n    }\n    return value;\n  }\n\n  /**\n   * Get a list of object property names.\n   * @return {Array<string>} List of property names.\n   * @api\n   */\n  getKeys() {\n    return (this.values_ && Object.keys(this.values_)) || [];\n  }\n\n  /**\n   * Get an object of all property names and values.\n   * @return {Object<string, *>} Object.\n   * @api\n   */\n  getProperties() {\n    return (this.values_ && Object.assign({}, this.values_)) || {};\n  }\n\n  /**\n   * Get an object of all property names and values.\n   * @return {Object<string, *>?} Object.\n   */\n  getPropertiesInternal() {\n    return this.values_;\n  }\n\n  /**\n   * @return {boolean} The object has properties.\n   */\n  hasProperties() {\n    return !!this.values_;\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {*} oldValue Old value.\n   */\n  notify(key, oldValue) {\n    let eventType;\n    eventType = `change:${key}`;\n    if (this.hasListener(eventType)) {\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    }\n    eventType = ObjectEventType.PROPERTYCHANGE;\n    if (this.hasListener(eventType)) {\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    }\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {import(\"./events.js\").Listener} listener Listener.\n   */\n  addChangeListener(key, listener) {\n    this.addEventListener(`change:${key}`, listener);\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {import(\"./events.js\").Listener} listener Listener.\n   */\n  removeChangeListener(key, listener) {\n    this.removeEventListener(`change:${key}`, listener);\n  }\n\n  /**\n   * Sets a value.\n   * @param {string} key Key name.\n   * @param {*} value Value.\n   * @param {boolean} [silent] Update without triggering an event.\n   * @api\n   */\n  set(key, value, silent) {\n    const values = this.values_ || (this.values_ = {});\n    if (silent) {\n      values[key] = value;\n    } else {\n      const oldValue = values[key];\n      values[key] = value;\n      if (oldValue !== value) {\n        this.notify(key, oldValue);\n      }\n    }\n  }\n\n  /**\n   * Sets a collection of key-value pairs.  Note that this changes any existing\n   * properties and adds new ones (it does not remove any existing properties).\n   * @param {Object<string, *>} values Values.\n   * @param {boolean} [silent] Update without triggering an event.\n   * @api\n   */\n  setProperties(values, silent) {\n    for (const key in values) {\n      this.set(key, values[key], silent);\n    }\n  }\n\n  /**\n   * Apply any properties from another object without triggering events.\n   * @param {BaseObject} source The source object.\n   * @protected\n   */\n  applyProperties(source) {\n    if (!source.values_) {\n      return;\n    }\n    Object.assign(this.values_ || (this.values_ = {}), source.values_);\n  }\n\n  /**\n   * Unsets a property.\n   * @param {string} key Key name.\n   * @param {boolean} [silent] Unset without triggering an event.\n   * @api\n   */\n  unset(key, silent) {\n    if (this.values_ && key in this.values_) {\n      const oldValue = this.values_[key];\n      delete this.values_[key];\n      if (isEmpty(this.values_)) {\n        this.values_ = null;\n      }\n      if (!silent) {\n        this.notify(key, oldValue);\n      }\n    }\n  }\n}\n\nexport default BaseObject;\n","/**\n * @module ol/control/Control\n */\nimport MapEventType from '../MapEventType.js';\nimport BaseObject from '../Object.js';\nimport {listen, unlistenByKey} from '../events.js';\nimport {VOID} from '../functions.js';\n\n/**\n * @typedef {Object} Options\n * @property {HTMLElement} [element] The element is the control's\n * container element. This only needs to be specified if you're developing\n * a custom control.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n * @property {HTMLElement|string} [target] Specify a target if you want\n * the control to be rendered outside of the map's viewport.\n */\n\n/**\n * @classdesc\n * A control is a visible widget with a DOM element in a fixed position on the\n * screen. They can involve user input (buttons), or be informational only;\n * the position is determined using CSS. By default these are placed in the\n * container with CSS class name `ol-overlaycontainer-stopevent`, but can use\n * any outside DOM element.\n *\n * This is the base class for controls. You can use it for simple custom\n * controls by creating the element with listeners, creating an instance:\n * ```js\n * const myControl = new Control({element: myElement});\n * ```\n * and then adding this to the map.\n *\n * The main advantage of having this as a control rather than a simple separate\n * DOM element is that preventing propagation is handled for you. Controls\n * will also be objects in a {@link module:ol/Collection~Collection}, so you can use their methods.\n *\n * You can also extend this base for your own control class. See\n * examples/custom-controls for an example of how to do this.\n *\n * @api\n */\nclass Control extends BaseObject {\n  /**\n   * @param {Options} options Control options.\n   */\n  constructor(options) {\n    super();\n\n    const element = options.element;\n    if (element && !options.target && !element.style.pointerEvents) {\n      element.style.pointerEvents = 'auto';\n    }\n\n    /**\n     * @protected\n     * @type {HTMLElement}\n     */\n    this.element = element ? element : null;\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.target_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../Map.js\").default|null}\n     */\n    this.map_ = null;\n\n    /**\n     * @protected\n     * @type {!Array<import(\"../events.js\").EventsKey>}\n     */\n    this.listenerKeys = [];\n\n    if (options.render) {\n      this.render = options.render;\n    }\n\n    if (options.target) {\n      this.setTarget(options.target);\n    }\n  }\n\n  /**\n   * Clean up.\n   * @override\n   */\n  disposeInternal() {\n    this.element?.remove();\n    super.disposeInternal();\n  }\n\n  /**\n   * Get the map associated with this control.\n   * @return {import(\"../Map.js\").default|null} Map.\n   * @api\n   */\n  getMap() {\n    return this.map_;\n  }\n\n  /**\n   * Remove the control from its current map and attach it to the new map.\n   * Pass `null` to just remove the control from the current map.\n   * Subclasses may set up event handlers to get notified about changes to\n   * the map here.\n   * @param {import(\"../Map.js\").default|null} map Map.\n   * @api\n   */\n  setMap(map) {\n    if (this.map_) {\n      this.element?.remove();\n    }\n    for (let i = 0, ii = this.listenerKeys.length; i < ii; ++i) {\n      unlistenByKey(this.listenerKeys[i]);\n    }\n    this.listenerKeys.length = 0;\n    this.map_ = map;\n    if (map) {\n      const target = this.target_ ?? map.getOverlayContainerStopEvent();\n      if (this.element) {\n        target.appendChild(this.element);\n      }\n      if (this.render !== VOID) {\n        this.listenerKeys.push(\n          listen(map, MapEventType.POSTRENDER, this.render, this),\n        );\n      }\n      map.render();\n    }\n  }\n\n  /**\n   * Renders the control.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @api\n   */\n  render(mapEvent) {}\n\n  /**\n   * This function is used to set a target element for the control. It has no\n   * effect if it is called after the control has been added to the map (i.e.\n   * after `setMap` is called on the control). If no `target` is set in the\n   * options passed to the control constructor and if `setTarget` is not called\n   * then the control is added to the map's overlay container.\n   * @param {HTMLElement|string} target Target.\n   * @api\n   */\n  setTarget(target) {\n    this.target_ =\n      typeof target === 'string' ? document.getElementById(target) : target;\n  }\n}\n\nexport default Control;\n","import { h, render } from 'preact';\n\nimport OSRMv1 from './osrm-v1';\nimport Waypoint from './waypoint';\nimport ControlWrapper from './components/ControlWrapper.jsx';\nimport Control from 'ol/control/Control';\n\nclass OlrmControl extends Control {\n    constructor(options) {\n        options = Object.assign({}, options);\n        options.waypoints = options.waypoints && options.waypoints.map(wp => {\n            if (wp instanceof Waypoint) {\n                return wp;\n            }\n\n            return new Waypoint(wp);\n        });\n\n        options.router = options.router || new OSRMv1(options);\n        options.waypointsListener = options.waypointsListener || null;\n        options.routesListener = options.routesListener || null;\n\n        const container = document.createElement('div');\n        container.setAttribute(\"id\", \"olrm-container\");\n        render(h(ControlWrapper, options), container);\n\n        super({\n            element: container,\n            ...options\n        });\n\n        this.options = options;\n        this.container = container;\n    }\n}\n\nexport default {\n    Control: OlrmControl,\n    OSRMv1\n};"],"names":["n","l","u","i","r","o","e","f","c","s","a","p","v","y","w","d","g","_","t","m","k","x","S","C","M","$","O","N","I","h","b","P","B","A","L","D","T","j","F","H","E","V","z","q","G","polyline","py2_round","value","encode","current","previous","factor","coordinate","output","str","precision","index","lat","lng","coordinates","shift","result","byte","latitude_change","longitude_change","flipped","coords","coord","geojson","module","instructionsAr","require$$0","instructionsCa","require$$1","instructionsDa","require$$2","instructionsDe","require$$3","instructionsEn","require$$4","instructionsEo","require$$5","instructionsEs","require$$6","instructionsEsEs","require$$7","instructionsFi","require$$8","instructionsFr","require$$9","instructionsHe","require$$10","instructionsHu","require$$11","instructionsId","require$$12","instructionsIt","require$$13","instructionsJa","require$$14","instructionsKo","require$$15","instructionsMy","require$$16","instructionsNl","require$$17","instructionsNo","require$$18","instructionsPl","require$$19","instructionsPtBr","require$$20","instructionsPtPt","require$$21","instructionsRo","require$$22","instructionsRu","require$$23","instructionsSl","require$$24","instructionsSv","require$$25","instructionsTr","require$$26","instructionsUk","require$$27","instructionsVi","require$$28","instructionsYo","require$$29","instructionsZhHans","require$$30","grammarDa","require$$31","grammarFr","require$$32","grammarHu","require$$33","grammarRu","require$$34","abbreviationsBg","require$$35","abbreviationsCa","require$$36","abbreviationsDa","require$$37","abbreviationsDe","require$$38","abbreviationsEn","require$$39","abbreviationsEs","require$$40","abbreviationsFr","require$$41","abbreviationsHe","require$$42","abbreviationsHu","require$$43","abbreviationsLt","require$$44","abbreviationsNl","require$$45","abbreviationsRu","require$$46","abbreviationsSl","require$$47","abbreviationsSv","require$$48","abbreviationsUk","require$$49","abbreviationsVi","require$$50","instructions","grammars","abbreviations","languages","osrmTextInstructions","version","code","language","string","number","degree","step","config","currentLaneValidity","lane","options","classes","wayName","name","ref","wayMotorway","phrase","opts","type","modifier","mode","side","instructionObject","omitSide","laneInstruction","instruction","destinations","destinationRef","destination","firstDestination","nthWaypoint","replaceTokens","grammar","rules","flags","rule","re","tokens","that","startedWithToken","token","tag","offset","Waypoint","lngLat","defaults","OSRMv1","waypoints","callback","context","url","timedOut","waypointsCopy","carry","param","idx","timer","wp","resp","data","err","response","inputWaypoints","alts","actualWaypoints","route","ex","responseRoute","legNames","waypointIndices","legCount","hasSteps","leg","geometry","text","stepToText","textInstructions","bearing","oct","maneuver","lastLeg","words","routeGeometry","cs","vias","wps","viaLoc","locations","hints","computeInstructions","computeAlternative","location","loc","markerImage","defaultStyle","ol","Marker","Component","map","feature","prevProps","foundFeatures","layer","event","nargs","stringTemplate","template","args","match","formatDistance","sensitivity","un","simpleRounding","roundFn","round","yards","pow10","formatDuration","getLastWaypointIndexBefore","RouteLine","nextProps","selected","stroke","Geocoder","nextState","direction","cnt","waypoint","inputValue","component","results","suggestion","props","state","jsxs","jsx","circleImage","Itinerary","instr","newRoutes","dragging","now","firstNextRun","timeout","routeDebounce","waypointsUpdated","afterWpIndex","Fragment","ControlWrapper","Control","MapEventType","ObjectEventType","EventType","Disposable","VOID","clear","object","property","isEmpty","BaseEvent","Target","target","listener","listeners","listenersForType","isString","evt","Event","dispatching","pendingRemovals","propagate","ii","pr","listen","thisArg","once","originalListener","eventsKey","listenOnce","unlistenByKey","key","Observable","EventTarget","len","keys","unByKey","uidCounter_","getUid","obj","ObjectEvent","oldValue","BaseObject","values","eventType","silent","source","element","mapEvent","OlrmControl","container","render","main"],"mappings":"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C,IAAiBC,IACjBC,KAAiBC,IACjBC,KAAqBC,IAGrBC,KAAYC,IACZC,KAAYC,IACZC,KAAYC,IACZC,KAAYC,IAGZC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAClBC,KAAkBC,IAGlBC,KAAe;AAAA,IACf,IAAMtG;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,SAASE;AAAA,IACT,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,SAASE;AAAA,IACT,SAASE;AAAA,IACT,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,WAAWE;AAAA,KAIX2C,KAAW;AAAA,IACX,IAAMzC;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,KAINoC,KAAgB;AAAA,IAChB,IAAMlC;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA,IACN,IAAME;AAAA;AAEV,SAAAK,IAAiB;AA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","x_google_ignoreList":[0,1,2,3,6,9,17,18,19,20,21,22,23,24,25,26,27,28,29]}